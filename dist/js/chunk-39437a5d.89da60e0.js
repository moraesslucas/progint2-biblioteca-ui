(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-39437a5d"],{"503a":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("data-table-sorting-pagination",{staticClass:"mb-4"})],1)},r=[],o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("va-card",{attrs:{title:"Clientes"}},[a("template",{slot:"actions"},[a("va-button",{attrs:{to:{name:"novo-cliente"},color:"info",icon:"fa fa-plus"}},[e._v("Novo cliente")])],1),a("va-data-table",{attrs:{fields:e.fields,data:e.clientes,"per-page":20,totalPages:e.totalPages,loading:e.loading,"api-mode":""},on:{"page-selected":e.readItems},scopedSlots:e._u([{key:"actions",fn:function(t){return[a("va-popover",{attrs:{message:"Editar "+t.rowData.nome,placement:"top"}},[a("va-button",{attrs:{flat:"",small:"",color:"gray",icon:"fa fa-pencil",to:{path:"cliente/"+t.rowData.matricula}}})],1),a("va-popover",{attrs:{message:"Deletar "+t.rowData.nome,placement:"top"}},[a("va-button",{attrs:{flat:"",small:"",color:"gray",icon:"fa fa-trash"},on:{click:function(a){return e.deleteCliente(t.rowData.matricula)}}})],1)]}}])})],2)},i=[],l=a("bffd"),c={data:function(){return{clientes:[],perPage:20,totalPages:0,loading:!1}},computed:{fields:function(){return[{name:"matricula",title:"MatrÃ­cula"},{name:"nome",title:"Nome"},{name:"telefone",title:"Telefone"},{name:"email",title:"E-mail"},{name:"__slot:actions",dataClass:"text-right"}]}},created:function(){this.readItems()},methods:{readItems:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0;var a={size:this.perPage,page:t-1};l["a"].buscarClientes(a).then((function(t){e.clientes=t.data.content,e.totalPages=t.data.totalPages,e.loading=!1}))},deleteCliente:function(e){var t=this;l["a"].deleteCliente(e).then((function(a){t.clientes=t.clientes.filter((function(t){return t.matricula!==e}))}))}}},s=c,u=a("2877"),f=Object(u["a"])(s,o,i,!1,null,null,null),d=f.exports,p={components:{DataTableSortingPagination:d}},m=p,v=Object(u["a"])(m,n,r,!1,null,null,null);t["default"]=v.exports},bffd:function(e,t,a){"use strict";var n=a("bc3a"),r=a.n(n),o=a("c4c6");function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function c(e,t,a){return t&&l(e.prototype,t),a&&l(e,a),e}var s="https://protected-fjord-42747.herokuapp.com/cliente/",u=function(){function e(){i(this,e)}return c(e,[{key:"buscarClientes",value:function(e){var t={headers:Object(o["a"])(),params:e},a=r.a.get(s,t);return a}},{key:"deleteCliente",value:function(e){return r.a.delete(s+e,{headers:Object(o["a"])()})}},{key:"buscarCliente",value:function(e){return r.a.get(s+e,{headers:Object(o["a"])()})}},{key:"criarCliente",value:function(e){return r.a.post(s,e,{headers:Object(o["a"])()})}},{key:"atualizarCliente",value:function(e,t){return r.a.put(s+e,t,{headers:Object(o["a"])()})}}]),e}();t["a"]=new u},c4c6:function(e,t,a){"use strict";function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.access_token?{Authorization:"Bearer ".concat(e.access_token)}:{}}a.d(t,"a",(function(){return n}))}}]);
//# sourceMappingURL=chunk-39437a5d.89da60e0.js.map