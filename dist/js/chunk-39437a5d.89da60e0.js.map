{"version":3,"sources":["webpack:///./src/components/clientes/Clientes.vue?b881","webpack:///./src/components/clientes/scenarios/DataTableSortingPagination.vue?4e84","webpack:///src/components/clientes/scenarios/DataTableSortingPagination.vue","webpack:///./src/components/clientes/scenarios/DataTableSortingPagination.vue?7b16","webpack:///./src/components/clientes/scenarios/DataTableSortingPagination.vue","webpack:///src/components/clientes/Clientes.vue","webpack:///./src/components/clientes/Clientes.vue?0338","webpack:///./src/components/clientes/Clientes.vue","webpack:///./src/services/cliente.service.js","webpack:///./src/services/auth-header.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","attrs","slot","name","_v","fields","clientes","totalPages","loading","on","readItems","scopedSlots","_u","key","fn","props","rowData","path","matricula","$event","deleteCliente","data","perPage","computed","title","dataClass","created","methods","size","page","component","components","DataTableSortingPagination","API_URL","ClienteService","params","config","headers","authHeader","request","axios","get","delete","cliente","post","put","user","JSON","parse","localStorage","getItem","access_token","Authorization"],"mappings":"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","file":"js/chunk-39437a5d.89da60e0.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('data-table-sorting-pagination',{staticClass:\"mb-4\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('va-card',{attrs:{\"title\":\"Clientes\"}},[_c('template',{slot:\"actions\"},[_c('va-button',{attrs:{\"to\":{name:'novo-cliente'},\"color\":\"info\",\"icon\":\"fa fa-plus\"}},[_vm._v(\"Novo cliente\")])],1),_c('va-data-table',{attrs:{\"fields\":_vm.fields,\"data\":_vm.clientes,\"per-page\":20,\"totalPages\":_vm.totalPages,\"loading\":_vm.loading,\"api-mode\":\"\"},on:{\"page-selected\":_vm.readItems},scopedSlots:_vm._u([{key:\"actions\",fn:function(props){return [_c('va-popover',{attrs:{\"message\":(\"Editar \" + (props.rowData.nome)),\"placement\":\"top\"}},[_c('va-button',{attrs:{\"flat\":\"\",\"small\":\"\",\"color\":\"gray\",\"icon\":\"fa fa-pencil\",\"to\":{path: 'cliente/' + props.rowData.matricula}}})],1),_c('va-popover',{attrs:{\"message\":(\"Deletar \" + (props.rowData.nome)),\"placement\":\"top\"}},[_c('va-button',{attrs:{\"flat\":\"\",\"small\":\"\",\"color\":\"gray\",\"icon\":\"fa fa-trash\"},on:{\"click\":function($event){return _vm.deleteCliente(props.rowData.matricula)}}})],1)]}}])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <va-card title=\"Clientes\">\n    <template slot=\"actions\">\n      <va-button :to=\"{name:'novo-cliente'}\" color=\"info\" icon=\"fa fa-plus\">Novo cliente</va-button>\n    </template>\n\n    <va-data-table\n      :fields=\"fields\"\n      :data=\"clientes\"\n      :per-page=\"20\"\n      :totalPages=\"totalPages\"\n      @page-selected=\"readItems\"\n      :loading=\"loading\"\n      api-mode\n    >\n      <template slot=\"actions\" slot-scope=\"props\">\n        <va-popover :message=\"`Editar ${props.rowData.nome}`\" placement=\"top\">\n          <va-button flat small color=\"gray\" icon=\"fa fa-pencil\" :to=\"{path: 'cliente/' + props.rowData.matricula}\"/>\n        </va-popover>\n\n        <va-popover :message=\"`Deletar ${props.rowData.nome}`\" placement=\"top\">\n          <va-button flat small\n            color=\"gray\"\n            icon=\"fa fa-trash\"\n            @click=\"deleteCliente(props.rowData.matricula)\"\n          />\n        </va-popover>\n      </template>\n    </va-data-table>\n  </va-card>\n</template>\n\n<script>\nimport ClienteService from '../../../services/cliente.service'\n\nexport default {\n  data () {\n    return {\n      clientes: [],\n      perPage: 20,\n      totalPages: 0,\n      loading: false,\n    }\n  },\n  computed: {\n    fields () {\n      return [{\n        name: 'matricula',\n        title: 'MatrÃ­cula',\n      }, {\n        name: 'nome',\n        title: 'Nome',\n      }, {\n        name: 'telefone',\n        title: 'Telefone',\n      }, {\n        name: 'email',\n        title: 'E-mail',\n      }, {\n        name: '__slot:actions',\n        dataClass: 'text-right',\n      }]\n    },\n  },\n  created () {\n    this.readItems()\n  },\n  methods: {\n    readItems (page = 0) {\n      this.loading = true\n      const params = {\n        size: this.perPage,\n        page: page - 1,\n      }\n      ClienteService.buscarClientes(params).then(response => {\n        this.clientes = response.data.content\n        this.totalPages = response.data.totalPages\n        this.loading = false\n      })\n    },\n    deleteCliente (matricula) {\n      ClienteService.deleteCliente(matricula).then(response => {\n        this.clientes = this.clientes.filter(item => item.matricula !== matricula)\n      })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTableSortingPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTableSortingPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataTableSortingPagination.vue?vue&type=template&id=e56e69ac&\"\nimport script from \"./DataTableSortingPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./DataTableSortingPagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <data-table-sorting-pagination class=\"mb-4\"/>\n  </div>\n</template>\n\n<script>\nimport DataTableSortingPagination from './scenarios/DataTableSortingPagination.vue'\n\nexport default {\n  components: {\n    DataTableSortingPagination,\n  },\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clientes.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Clientes.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Clientes.vue?vue&type=template&id=2530cc18&\"\nimport script from \"./Clientes.vue?vue&type=script&lang=js&\"\nexport * from \"./Clientes.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import axios from 'axios'\nimport authHeader from './auth-header'\n\nconst API_URL = 'https://protected-fjord-42747.herokuapp.com/cliente/'\n\nclass ClienteService {\n  buscarClientes (params) {\n    const config = {\n      headers: authHeader(),\n      params: params,\n    }\n\n    const request = axios.get(API_URL, config)\n    return request\n  }\n\n  deleteCliente (matricula) {\n    return axios.delete(API_URL + matricula, { headers: authHeader() })\n  }\n\n  buscarCliente (matricula) {\n    return axios.get(API_URL + matricula, { headers: authHeader() })\n  }\n\n  criarCliente (cliente) {\n    return axios.post(API_URL, cliente, { headers: authHeader() })\n  }\n\n  atualizarCliente (matricula, cliente) {\n    return axios.put(API_URL + matricula, cliente, { headers: authHeader() })\n  }\n}\n\nexport default new ClienteService()\n","export default function authHeader () {\n  const user = JSON.parse(localStorage.getItem('user'))\n\n  if (user && user.access_token) {\n    return { Authorization: `Bearer ${user.access_token}` }\n  } else {\n    return {}\n  }\n}\n"],"sourceRoot":""}