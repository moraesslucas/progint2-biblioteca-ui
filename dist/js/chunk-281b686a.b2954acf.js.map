{"version":3,"sources":["webpack:///./src/components/funcionarios/Novo.vue?210a","webpack:///./src/services/funcionario.service.js","webpack:///./src/services/auth-header.js","webpack:///./src/components/funcionarios/Novo.vue?d2e0","webpack:///src/components/funcionarios/Novo.vue","webpack:///./src/components/funcionarios/Novo.vue?dce1","webpack:///./src/components/funcionarios/Novo.vue?094c"],"names":["API_URL","FuncionarioService","params","config","headers","authHeader","request","axios","get","matricula","delete","funcionario","post","put","user","JSON","parse","localStorage","getItem","access_token","Authorization","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","error","key","attrs","_v","_s","message","model","value","callback","$$v","$set","expression","directives","name","rawName","confirmaSenha","isDisabled","on","criar","staticRenderFns","data","nome","telefone","senha","validationErrors","methods","clear","field","component"],"mappings":"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","file":"js/chunk-281b686a.b2954acf.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=style&index=0&lang=css&\"","import axios from 'axios'\nimport authHeader from './auth-header'\n\nconst API_URL = 'https://protected-fjord-42747.herokuapp.com/funcionario/'\n\nclass FuncionarioService {\n  buscarFuncionarios (params) {\n    const config = {\n      headers: authHeader(),\n      params: params,\n    }\n\n    const request = axios.get(API_URL, config)\n    return request\n  }\n\n  deleteFuncionario (matricula) {\n    return axios.delete(API_URL + matricula, { headers: authHeader() })\n  }\n\n  buscarFuncionario (matricula) {\n    return axios.get(API_URL + matricula, { headers: authHeader() })\n  }\n\n  criarFuncionario (funcionario) {\n    return axios.post(API_URL, funcionario, { headers: authHeader() })\n  }\n\n  atualizarFuncionario (matricula, funcionario) {\n    return axios.put(API_URL + matricula, funcionario, { headers: authHeader() })\n  }\n}\n\nexport default new FuncionarioService()\n","export default function authHeader () {\n  const user = JSON.parse(localStorage.getItem('user'))\n\n  if (user && user.access_token) {\n    return { Authorization: `Bearer ${user.access_token}` }\n  } else {\n    return {}\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-elements\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex xs12\"},[_vm._l((_vm.validationErrors),function(error){return _c('va-notification',{key:error,attrs:{\"color\":\"danger\"}},[_vm._v(\" \"+_vm._s(error.message)+\" \")])}),_c('va-card',{attrs:{\"title\":\"Novo Funcionário\"}},[_c('form',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Nome\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Nome\",\"removable\":\"\"},model:{value:(_vm.funcionario.nome),callback:function ($$v) {_vm.$set(_vm.funcionario, \"nome\", $$v)},expression:\"funcionario.nome\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Telefone\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{directives:[{name:\"mask\",rawName:\"v-mask\",value:(['(##) #####-####', '(##) ####-####']),expression:\"['(##) #####-####', '(##) ####-####']\"}],attrs:{\"placeholder\":\"Editora\",\"removable\":\"\"},model:{value:(_vm.funcionario.telefone),callback:function ($$v) {_vm.$set(_vm.funcionario, \"telefone\", $$v)},expression:\"funcionario.telefone\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Senha\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Autor\",\"removable\":\"\"},model:{value:(_vm.funcionario.senha),callback:function ($$v) {_vm.$set(_vm.funcionario, \"senha\", $$v)},expression:\"funcionario.senha\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Confirmação de senha\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Confirmação de senha\",\"removable\":\"\"},model:{value:(_vm.confirmaSenha),callback:function ($$v) {_vm.confirmaSenha=$$v},expression:\"confirmaSenha\"}})],1),_c('div',{staticClass:\"flex md12 sm12 xs12\"},[_c('va-button',{staticClass:\"pull-right\",attrs:{\"disabled\":_vm.isDisabled,\"color\":\"info\"},on:{\"click\":_vm.criar}},[_vm._v(\" Criar \")])],1)])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-elements\">\n    <div class=\"row\">\n      <div class=\"flex xs12\">\n        <va-notification color=\"danger\" v-for=\"error in validationErrors\" :key=\"error\">\n          {{error.message}}\n        </va-notification>\n        <va-card title=\"Novo Funcionário\">\n          <form>\n            <div class=\"row\">\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Nome</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"funcionario.nome\"\n                  placeholder=\"Nome\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Telefone</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"funcionario.telefone\"\n                  placeholder=\"Editora\"\n                  removable\n                  v-mask=\"['(##) #####-####', '(##) ####-####']\"/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Senha</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"funcionario.senha\"\n                  placeholder=\"Autor\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Confirmação de senha</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"confirmaSenha\"\n                  placeholder=\"Confirmação de senha\"\n                  removable/>\n              </div>\n              <div class=\"flex md12 sm12 xs12\">\n                <va-button :disabled=\"isDisabled\" color=\"info\" class=\"pull-right\" @click=\"criar\">\n                  Criar\n                </va-button>\n              </div>\n            </div>\n          </form>\n        </va-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FuncionarioService from '../../services/funcionario.service'\nimport { mask } from 'vue-the-mask'\n\nexport default {\n  name: 'form-elements',\n  directives: { mask },\n  data () {\n    return {\n      funcionario: {\n        nome: '',\n        telefone: '',\n        senha: '',\n      },\n      confirmaSenha: '',\n      isDisabled: false,\n      validationErrors: [],\n    }\n  },\n  methods: {\n    clear (field) {\n      this[field] = ''\n    },\n    criar () {\n      this.isDisabled = true\n      if (this.funcionario.senha != this.confirmaSenha) {\n        this.validationErrors = [{ message: 'Senha não bate com a confirmação' }]\n        this.isDisabled = false\n      } else {\n        FuncionarioService.criarFuncionario(this.funcionario)\n          .then(response => this.$router.push({ name: 'funcionarios' }))\n          .catch(error => {\n            this.validationErrors = error.response.data.errors\n            this.isDisabled = false\n          })\n      }\n    },\n  },\n}\n</script>\n\n<style>\n  .row.row-inside {\n    max-width: none;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Novo.vue?vue&type=template&id=00762f66&\"\nimport script from \"./Novo.vue?vue&type=script&lang=js&\"\nexport * from \"./Novo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Novo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}