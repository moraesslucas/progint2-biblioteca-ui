(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-21be736b"],{"392f":function(t,e,a){"use strict";var n=a("bc3a"),o=a.n(n),r=a("c4c6");function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function l(t,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,a){return e&&l(t.prototype,e),a&&l(t,a),t}var c="https://protected-fjord-42747.herokuapp.com/livro/",u=function(){function t(){i(this,t)}return s(t,[{key:"buscarLivros",value:function(t){var e={headers:Object(r["a"])(),params:t},a=o.a.get(c,e);return a}},{key:"deleteLivro",value:function(t){return o.a.delete(c+t,{headers:Object(r["a"])()})}},{key:"buscarLivro",value:function(t){return o.a.get(c+t,{headers:Object(r["a"])()})}},{key:"criarLivro",value:function(t){return o.a.post(c,t,{headers:Object(r["a"])()})}},{key:"atualizarLivro",value:function(t,e){return o.a.put(c+t,e,{headers:Object(r["a"])()})}}]),t}();e["a"]=new u},b6f1:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("data-table-sorting-pagination",{staticClass:"mb-4"})],1)},o=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("va-card",{attrs:{title:"Livros"}},[a("template",{slot:"actions"},[a("va-button",{attrs:{to:{name:"novo-livro"},color:"info",icon:"fa fa-plus"}},[t._v("Novo livro")])],1),a("va-data-table",{attrs:{fields:t.fields,data:t.livros,"per-page":20,totalPages:t.totalPages,loading:t.loading,"api-mode":""},on:{"page-selected":t.readItems},scopedSlots:t._u([{key:"actions",fn:function(e){return[a("va-popover",{attrs:{message:"Editar "+e.rowData.nome,placement:"top"}},[a("va-button",{attrs:{flat:"",small:"",color:"gray",icon:"fa fa-pencil",to:{path:"livro/"+e.rowData.id}}})],1),a("va-popover",{attrs:{message:"Deletar "+e.rowData.nome,placement:"top"}},[a("va-button",{attrs:{flat:"",small:"",color:"gray",icon:"fa fa-trash"},on:{click:function(a){return t.deleteLivro(e.rowData.id)}}})],1)]}}])})],2)},i=[],l=a("392f"),s={data:function(){return{livros:[],perPage:20,totalPages:0,loading:!1}},computed:{fields:function(){return[{name:"id",title:"#"},{name:"nome",title:"Nome"},{name:"editora",title:"Editora"},{name:"autor",title:"Autor"},{name:"anoPublicacao",title:"Ano de Publicação"},{name:"isbn",title:"ISBN"},{name:"__slot:actions",dataClass:"text-right"}]}},created:function(){this.readItems()},methods:{readItems:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.loading=!0;var a={size:this.perPage,page:e-1};l["a"].buscarLivros(a).then((function(e){t.livros=e.data.content,t.totalPages=e.data.totalPages,t.loading=!1}))},deleteLivro:function(t){var e=this;l["a"].deleteLivro(t).then((function(a){e.livros=e.livros.filter((function(e){return e.id!==t}))}))}}},c=s,u=a("2877"),f=Object(u["a"])(c,r,i,!1,null,null,null),d=f.exports,v={components:{DataTableSortingPagination:d}},p=v,m=Object(u["a"])(p,n,o,!1,null,null,null);e["default"]=m.exports},c4c6:function(t,e,a){"use strict";function n(){var t=JSON.parse(localStorage.getItem("user"));return t&&t.access_token?{Authorization:"Bearer ".concat(t.access_token)}:{}}a.d(e,"a",(function(){return n}))}}]);
//# sourceMappingURL=chunk-21be736b.ae83d769.js.map