{"version":3,"sources":["webpack:///./src/services/livro.service.js","webpack:///./src/components/livros/Novo.vue?ff2b","webpack:///./src/components/livros/Novo.vue?6289","webpack:///src/components/livros/Novo.vue","webpack:///./src/components/livros/Novo.vue?5303","webpack:///./src/components/livros/Novo.vue?a420","webpack:///./src/services/auth-header.js"],"names":["API_URL","LivroService","params","config","headers","authHeader","request","axios","get","id","delete","livro","post","put","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","error","key","attrs","_v","_s","message","model","value","callback","$$v","$set","expression","isDisabled","on","criar","staticRenderFns","name","data","nome","autor","editora","anoPublicacao","isbn","validationErrors","methods","clear","field","component","user","JSON","parse","localStorage","getItem","access_token","Authorization"],"mappings":"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","file":"js/chunk-f66e6f52.a29bcc97.js","sourcesContent":["import axios from 'axios'\nimport authHeader from './auth-header'\n\nconst API_URL = 'https://protected-fjord-42747.herokuapp.com/livro/'\n\nclass LivroService {\n  buscarLivros (params) {\n    const config = {\n      headers: authHeader(),\n      params: params,\n    }\n\n    const request = axios.get(API_URL, config)\n    return request\n  }\n\n  deleteLivro (id) {\n    return axios.delete(API_URL + id, { headers: authHeader() })\n  }\n\n  buscarLivro (id) {\n    return axios.get(API_URL + id, { headers: authHeader() })\n  }\n\n  criarLivro (livro) {\n    return axios.post(API_URL, livro, { headers: authHeader() })\n  }\n\n  atualizarLivro (id, livro) {\n    return axios.put(API_URL + id, livro, { headers: authHeader() })\n  }\n}\n\nexport default new LivroService()\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-elements\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex xs12\"},[_vm._l((_vm.validationErrors),function(error){return _c('va-notification',{key:error,attrs:{\"color\":\"danger\"}},[_vm._v(\" \"+_vm._s(error.message)+\" \")])}),_c('va-card',{attrs:{\"title\":\"Novo Livro\"}},[_c('form',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Nome\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Nome\",\"removable\":\"\"},model:{value:(_vm.livro.nome),callback:function ($$v) {_vm.$set(_vm.livro, \"nome\", $$v)},expression:\"livro.nome\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Editora\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Editora\",\"removable\":\"\"},model:{value:(_vm.livro.editora),callback:function ($$v) {_vm.$set(_vm.livro, \"editora\", $$v)},expression:\"livro.editora\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Autor\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Autor\",\"removable\":\"\"},model:{value:(_vm.livro.autor),callback:function ($$v) {_vm.$set(_vm.livro, \"autor\", $$v)},expression:\"livro.autor\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Ano de Publicação\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Ano de Publicação\",\"type\":\"number\",\"removable\":\"\"},model:{value:(_vm.livro.anoPublicacao),callback:function ($$v) {_vm.$set(_vm.livro, \"anoPublicacao\", $$v)},expression:\"livro.anoPublicacao\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"ISBN\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"ISBN\",\"removable\":\"\"},model:{value:(_vm.livro.isbn),callback:function ($$v) {_vm.$set(_vm.livro, \"isbn\", $$v)},expression:\"livro.isbn\"}})],1),_c('div',{staticClass:\"flex md12 sm12 xs12\"},[_c('va-button',{staticClass:\"pull-right\",attrs:{\"disabled\":_vm.isDisabled,\"color\":\"info\"},on:{\"click\":_vm.criar}},[_vm._v(\" Criar \")])],1)])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-elements\">\n    <div class=\"row\">\n      <div class=\"flex xs12\">\n        <va-notification color=\"danger\" v-for=\"error in validationErrors\" :key=\"error\">\n          {{error.message}}\n        </va-notification>\n        <va-card title=\"Novo Livro\">\n          <form>\n            <div class=\"row\">\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Nome</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"livro.nome\"\n                  placeholder=\"Nome\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Editora</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"livro.editora\"\n                  placeholder=\"Editora\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Autor</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"livro.autor\"\n                  placeholder=\"Autor\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Ano de Publicação</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"livro.anoPublicacao\"\n                  placeholder=\"Ano de Publicação\"\n                  type=\"number\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>ISBN</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"livro.isbn\"\n                  placeholder=\"ISBN\"\n                  removable/>\n              </div>\n              <div class=\"flex md12 sm12 xs12\">\n                <va-button :disabled=\"isDisabled\" color=\"info\" class=\"pull-right\" @click=\"criar\">\n                  Criar\n                </va-button>\n              </div>\n            </div>\n          </form>\n        </va-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport LivroService from '../../services/livro.service'\n\nexport default {\n  name: 'form-elements',\n  data () {\n    return {\n      livro: {\n        nome: '',\n        autor: '',\n        editora: '',\n        anoPublicacao: '',\n        isbn: '',\n      },\n      isDisabled: false,\n      validationErrors: [],\n    }\n  },\n  methods: {\n    clear (field) {\n      this[field] = ''\n    },\n    criar () {\n      this.isDisabled = true\n\n      LivroService.criarLivro(this.livro)\n        .then(response => this.$router.push({ name: 'livros' }))\n        .catch(error => {\n          this.validationErrors = error.response.data.errors\n          this.isDisabled = false\n        })\n    },\n  },\n}\n</script>\n\n<style>\n  .row.row-inside {\n    max-width: none;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Novo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Novo.vue?vue&type=template&id=4aac772a&\"\nimport script from \"./Novo.vue?vue&type=script&lang=js&\"\nexport * from \"./Novo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Novo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function authHeader () {\n  const user = JSON.parse(localStorage.getItem('user'))\n\n  if (user && user.access_token) {\n    return { Authorization: `Bearer ${user.access_token}` }\n  } else {\n    return {}\n  }\n}\n"],"sourceRoot":""}