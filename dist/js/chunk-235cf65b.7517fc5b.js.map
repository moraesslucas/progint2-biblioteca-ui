{"version":3,"sources":["webpack:///./src/services/funcionario.service.js","webpack:///./src/components/funcionarios/Editar.vue?5e3e","webpack:///./src/components/funcionarios/Editar.vue?7283","webpack:///src/components/funcionarios/Editar.vue","webpack:///./src/components/funcionarios/Editar.vue?b77b","webpack:///./src/components/funcionarios/Editar.vue?376b","webpack:///./src/services/auth-header.js"],"names":["API_URL","FuncionarioService","params","config","headers","authHeader","request","axios","get","matricula","delete","funcionario","post","put","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","error","key","attrs","_v","_s","message","model","value","callback","$$v","$set","expression","directives","name","rawName","confirmaSenha","isDisabled","on","criar","staticRenderFns","data","nome","telefone","senha","validationErrors","created","readItem","methods","clear","field","component","user","JSON","parse","localStorage","getItem","access_token","Authorization"],"mappings":"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","file":"js/chunk-235cf65b.7517fc5b.js","sourcesContent":["import axios from 'axios'\nimport authHeader from './auth-header'\n\nconst API_URL = 'https://protected-fjord-42747.herokuapp.com/funcionario/'\n\nclass FuncionarioService {\n  buscarFuncionarios (params) {\n    const config = {\n      headers: authHeader(),\n      params: params,\n    }\n\n    const request = axios.get(API_URL, config)\n    return request\n  }\n\n  deleteFuncionario (matricula) {\n    return axios.delete(API_URL + matricula, { headers: authHeader() })\n  }\n\n  buscarFuncionario (matricula) {\n    return axios.get(API_URL + matricula, { headers: authHeader() })\n  }\n\n  criarFuncionario (funcionario) {\n    return axios.post(API_URL, funcionario, { headers: authHeader() })\n  }\n\n  atualizarFuncionario (matricula, funcionario) {\n    return axios.put(API_URL + matricula, funcionario, { headers: authHeader() })\n  }\n}\n\nexport default new FuncionarioService()\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editar.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"form-elements\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex xs12\"},[_vm._l((_vm.validationErrors),function(error){return _c('va-notification',{key:error,attrs:{\"color\":\"danger\"}},[_vm._v(\" \"+_vm._s(error.message)+\" \")])}),_c('va-card',{attrs:{\"title\":\"Novo Livro\"}},[_c('form',[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Nome\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Nome\",\"removable\":\"\"},model:{value:(_vm.funcionario.nome),callback:function ($$v) {_vm.$set(_vm.funcionario, \"nome\", $$v)},expression:\"funcionario.nome\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Telefone\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{directives:[{name:\"mask\",rawName:\"v-mask\",value:(['(##) #####-####', '(##) ####-####']),expression:\"['(##) #####-####', '(##) ####-####']\"}],attrs:{\"placeholder\":\"Telefone\",\"removable\":\"\"},model:{value:(_vm.funcionario.telefone),callback:function ($$v) {_vm.$set(_vm.funcionario, \"telefone\", $$v)},expression:\"funcionario.telefone\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Senha (Deixe em branco para não alterar)\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Senha\",\"removable\":\"\"},model:{value:(_vm.funcionario.senha),callback:function ($$v) {_vm.$set(_vm.funcionario, \"senha\", $$v)},expression:\"funcionario.senha\"}})],1),_c('div',{staticClass:\"flex md2 sm12 xs 12\"},[_c('p',[_vm._v(\"Confirmar senha\")])]),_c('div',{staticClass:\"flex md10 sm12 xs12\"},[_c('va-input',{attrs:{\"placeholder\":\"Confirmar senha\",\"removable\":\"\"},model:{value:(_vm.confirmaSenha),callback:function ($$v) {_vm.confirmaSenha=$$v},expression:\"confirmaSenha\"}})],1),_c('div',{staticClass:\"flex md12 sm12 xs12\"},[_c('va-button',{staticClass:\"pull-right\",attrs:{\"disabled\":_vm.isDisabled,\"color\":\"info\"},on:{\"click\":_vm.criar}},[_vm._v(\" Atualizar \")])],1)])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"form-elements\">\n    <div class=\"row\">\n      <div class=\"flex xs12\">\n        <va-notification color=\"danger\" v-for=\"error in validationErrors\" :key=\"error\">\n          {{error.message}}\n        </va-notification>\n        <va-card title=\"Novo Livro\">\n          <form>\n            <div class=\"row\">\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Nome</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"funcionario.nome\"\n                  placeholder=\"Nome\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Telefone</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"funcionario.telefone\"\n                  placeholder=\"Telefone\"\n                  removable\n                  v-mask=\"['(##) #####-####', '(##) ####-####']\"/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Senha (Deixe em branco para não alterar)</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"funcionario.senha\"\n                  placeholder=\"Senha\"\n                  removable/>\n              </div>\n              <div class=\"flex md2 sm12 xs 12\">\n                <p>Confirmar senha</p>\n              </div>\n              <div class=\"flex md10 sm12 xs12\">\n                <va-input\n                  v-model=\"confirmaSenha\"\n                  placeholder=\"Confirmar senha\"\n                  removable/>\n              </div>\n              <div class=\"flex md12 sm12 xs12\">\n                <va-button :disabled=\"isDisabled\" color=\"info\" class=\"pull-right\" @click=\"criar\">\n                  Atualizar\n                </va-button>\n              </div>\n            </div>\n          </form>\n        </va-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport FuncionarioService from '../../services/funcionario.service'\nimport { mask } from 'vue-the-mask'\n\nexport default {\n  name: 'form-elements',\n  directives: { mask },\n  data () {\n    return {\n      funcionario: {\n        nome: '',\n        telefone: '',\n        senha: '',\n      },\n      confirmaSenha: '',\n      isDisabled: false,\n      validationErrors: [],\n    }\n  },\n  created () {\n    this.readItem()\n  },\n  methods: {\n    readItem () {\n      FuncionarioService.buscarFuncionario(this.$route.params.matricula)\n        .then(response => this.funcionario = response.data)\n        .catch(error => console.log(error))\n    },\n    clear (field) {\n      this[field] = ''\n    },\n    criar () {\n      this.isDisabled = true\n      if (this.funcionario.senha != null && this.confirmaSenha != this.funcionario.senha) {\n        this.validationErrors = [{ message: 'Senha não bate com a confirmação' }]\n        this.isDisabled = false\n      } else {\n        FuncionarioService.atualizarFuncionario(this.$route.params.matricula, this.funcionario)\n          .then(response => this.$router.push({ name: 'funcionarios' }))\n          .catch(error => {\n            this.validationErrors = error.response.data.errors\n            this.isDisabled = false\n          })\n      }\n    },\n  },\n}\n</script>\n\n<style>\n  .row.row-inside {\n    max-width: none;\n  }\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Editar.vue?vue&type=template&id=7b3f341f&\"\nimport script from \"./Editar.vue?vue&type=script&lang=js&\"\nexport * from \"./Editar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Editar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function authHeader () {\n  const user = JSON.parse(localStorage.getItem('user'))\n\n  if (user && user.access_token) {\n    return { Authorization: `Bearer ${user.access_token}` }\n  } else {\n    return {}\n  }\n}\n"],"sourceRoot":""}