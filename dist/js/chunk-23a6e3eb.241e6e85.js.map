{"version":3,"sources":["webpack:///./src/services/funcionario.service.js","webpack:///./src/components/funcionarios/Funcionarios.vue?29a6","webpack:///./src/components/funcionarios/scenarios/DataTableSortingPagination.vue?cfc2","webpack:///src/components/funcionarios/scenarios/DataTableSortingPagination.vue","webpack:///./src/components/funcionarios/scenarios/DataTableSortingPagination.vue?da54","webpack:///./src/components/funcionarios/scenarios/DataTableSortingPagination.vue","webpack:///src/components/funcionarios/Funcionarios.vue","webpack:///./src/components/funcionarios/Funcionarios.vue?6c76","webpack:///./src/components/funcionarios/Funcionarios.vue","webpack:///./src/services/auth-header.js"],"names":["API_URL","FuncionarioService","params","config","headers","authHeader","request","axios","get","matricula","delete","funcionario","post","put","render","_vm","this","_h","$createElement","_c","_self","staticClass","staticRenderFns","attrs","slot","name","_v","fields","funcionarios","totalPages","loading","on","readItems","scopedSlots","_u","key","fn","props","rowData","path","$event","deleteFuncionario","data","perPage","computed","title","dataClass","created","methods","size","page","component","components","DataTableSortingPagination","user","JSON","parse","localStorage","getItem","access_token","Authorization"],"mappings":"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","file":"js/chunk-23a6e3eb.241e6e85.js","sourcesContent":["import axios from 'axios'\nimport authHeader from './auth-header'\n\nconst API_URL = 'https://protected-fjord-42747.herokuapp.com/funcionario/'\n\nclass FuncionarioService {\n  buscarFuncionarios (params) {\n    const config = {\n      headers: authHeader(),\n      params: params,\n    }\n\n    const request = axios.get(API_URL, config)\n    return request\n  }\n\n  deleteFuncionario (matricula) {\n    return axios.delete(API_URL + matricula, { headers: authHeader() })\n  }\n\n  buscarFuncionario (matricula) {\n    return axios.get(API_URL + matricula, { headers: authHeader() })\n  }\n\n  criarFuncionario (funcionario) {\n    return axios.post(API_URL, funcionario, { headers: authHeader() })\n  }\n\n  atualizarFuncionario (matricula, funcionario) {\n    return axios.put(API_URL + matricula, funcionario, { headers: authHeader() })\n  }\n}\n\nexport default new FuncionarioService()\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('data-table-sorting-pagination',{staticClass:\"mb-4\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('va-card',{attrs:{\"title\":'Funcion치rios'}},[_c('template',{slot:\"actions\"},[_c('va-button',{attrs:{\"to\":{name: 'novo-funcionario'},\"color\":\"info\",\"icon\":\"fa fa-plus\"}},[_vm._v(\"Novo funcion치rio\")])],1),_c('va-data-table',{attrs:{\"fields\":_vm.fields,\"data\":_vm.funcionarios,\"per-page\":20,\"totalPages\":_vm.totalPages,\"loading\":_vm.loading,\"api-mode\":\"\"},on:{\"page-selected\":_vm.readItems},scopedSlots:_vm._u([{key:\"actions\",fn:function(props){return [_c('va-popover',{attrs:{\"message\":(\"Editar \" + (props.rowData.nome)),\"placement\":\"top\"}},[_c('va-button',{attrs:{\"flat\":\"\",\"small\":\"\",\"color\":\"gray\",\"icon\":\"fa fa-pencil\",\"to\":{path: 'funcionario/' + props.rowData.matricula}}})],1),_c('va-popover',{attrs:{\"message\":(\"Deletar \" + (props.rowData.nome)),\"placement\":\"top\"}},[_c('va-button',{attrs:{\"flat\":\"\",\"small\":\"\",\"color\":\"gray\",\"icon\":\"fa fa-trash\"},on:{\"click\":function($event){return _vm.deleteFuncionario(props.rowData.matricula)}}})],1)]}}])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <va-card :title=\"'Funcion치rios'\">\n    <template slot=\"actions\">\n      <va-button :to=\"{name: 'novo-funcionario'}\" color=\"info\" icon=\"fa fa-plus\">Novo funcion치rio</va-button>\n    </template>\n\n    <va-data-table\n      :fields=\"fields\"\n      :data=\"funcionarios\"\n      :per-page=\"20\"\n      :totalPages=\"totalPages\"\n      @page-selected=\"readItems\"\n      :loading=\"loading\"\n      api-mode\n    >\n      <template slot=\"actions\" slot-scope=\"props\">\n        <va-popover :message=\"`Editar ${props.rowData.nome}`\" placement=\"top\">\n          <va-button flat small color=\"gray\" icon=\"fa fa-pencil\" :to=\"{path: 'funcionario/' + props.rowData.matricula}\"/>\n        </va-popover>\n\n        <va-popover :message=\"`Deletar ${props.rowData.nome}`\" placement=\"top\">\n          <va-button flat small color=\"gray\" icon=\"fa fa-trash\" @click=\"deleteFuncionario(props.rowData.matricula)\"/>\n        </va-popover>\n      </template>\n    </va-data-table>\n  </va-card>\n</template>\n\n<script>\nimport FuncionarioService from '../../../services/funcionario.service'\n\nexport default {\n  data () {\n    return {\n      funcionarios: [],\n      perPage: 20,\n      totalPages: 0,\n      loading: false,\n    }\n  },\n  computed: {\n    fields () {\n      return [{\n        name: 'matricula',\n        title: '#',\n      }, {\n        name: 'nome',\n        title: 'Nome',\n      }, {\n        name: 'telefone',\n        title: 'Telefone',\n      }, {\n        name: '__slot:actions',\n        dataClass: 'text-right',\n      }]\n    },\n  },\n  created () {\n    this.readItems()\n  },\n  methods: {\n    readItems (page = 0) {\n      this.loading = true\n\n      const params = {\n        size: this.perPage,\n        page: page - 1,\n      }\n      FuncionarioService.buscarFuncionarios(params)\n        .then(response => {\n          this.funcionarios = response.data.content\n          this.totalPages = response.data.totalPages\n          this.loading = false\n        })\n    },\n    deleteFuncionario (matricula) {\n      FuncionarioService.deleteFuncionario(matricula)\n        .then(response => {\n          this.funcionarios = this.funcionarios.filter(item => item.matricula !== matricula)\n        })\n    },\n  },\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTableSortingPagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DataTableSortingPagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DataTableSortingPagination.vue?vue&type=template&id=3bf989f9&\"\nimport script from \"./DataTableSortingPagination.vue?vue&type=script&lang=js&\"\nexport * from \"./DataTableSortingPagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div>\n    <data-table-sorting-pagination class=\"mb-4\"/>\n  </div>\n</template>\n\n<script>\nimport DataTableSortingPagination from './scenarios/DataTableSortingPagination.vue'\n\nexport default {\n  components: {\n    DataTableSortingPagination,\n  },\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Funcionarios.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Funcionarios.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Funcionarios.vue?vue&type=template&id=7eb02f78&\"\nimport script from \"./Funcionarios.vue?vue&type=script&lang=js&\"\nexport * from \"./Funcionarios.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default function authHeader () {\n  const user = JSON.parse(localStorage.getItem('user'))\n\n  if (user && user.access_token) {\n    return { Authorization: `Bearer ${user.access_token}` }\n  } else {\n    return {}\n  }\n}\n"],"sourceRoot":""}