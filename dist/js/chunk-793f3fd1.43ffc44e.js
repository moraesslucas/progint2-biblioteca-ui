(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-793f3fd1"],{"218e":function(e,t,a){},"392f":function(e,t,a){"use strict";var n=a("bc3a"),i=a.n(n),r=a("c4c6");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}var c="https://protected-fjord-42747.herokuapp.com/livro/",u=function(){function e(){o(this,e)}return l(e,[{key:"buscarLivros",value:function(e){var t={headers:Object(r["a"])(),params:e},a=i.a.get(c,t);return a}},{key:"deleteLivro",value:function(e){return i.a.delete(c+e,{headers:Object(r["a"])()})}},{key:"buscarLivro",value:function(e){return i.a.get(c+e,{headers:Object(r["a"])()})}},{key:"criarLivro",value:function(e){return i.a.post(c,e,{headers:Object(r["a"])()})}},{key:"atualizarLivro",value:function(e,t){return i.a.put(c+e,t,{headers:Object(r["a"])()})}}]),e}();t["a"]=new u},afc6:function(e,t,a){"use strict";var n=a("218e"),i=a.n(n);i.a},bffd:function(e,t,a){"use strict";var n=a("bc3a"),i=a.n(n),r=a("c4c6");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}var c="https://protected-fjord-42747.herokuapp.com/cliente/",u=function(){function e(){o(this,e)}return l(e,[{key:"buscarClientes",value:function(e){var t={headers:Object(r["a"])(),params:e},a=i.a.get(c,t);return a}},{key:"deleteCliente",value:function(e){return i.a.delete(c+e,{headers:Object(r["a"])()})}},{key:"buscarCliente",value:function(e){return i.a.get(c+e,{headers:Object(r["a"])()})}},{key:"criarCliente",value:function(e){return i.a.post(c,e,{headers:Object(r["a"])()})}},{key:"atualizarCliente",value:function(e,t){return i.a.put(c+e,t,{headers:Object(r["a"])()})}}]),e}();t["a"]=new u},c4c6:function(e,t,a){"use strict";function n(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.access_token?{Authorization:"Bearer ".concat(e.access_token)}:{}}a.d(t,"a",(function(){return n}))},cb34:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-elements"},[a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12"},[e._l(e.validationErrors,(function(t){return a("va-notification",{key:t,attrs:{color:"danger"}},[e._v(" "+e._s(t.message)+" ")])})),a("va-card",{attrs:{title:"Novo Empréstimo"}},[a("form",[a("div",{staticClass:"row"},[a("div",{staticClass:"flex xs12"},[a("h3",{staticClass:"info"},[e._v("Selecionar Livro")]),a("va-data-table",{attrs:{fields:e.livros.fields,data:e.livrosContent,"per-page":5,totalPages:e.livros.totalPages,loading:e.livros.loading,"api-mode":""},on:{"page-selected":e.buscaLivros},scopedSlots:e._u([{key:"select",fn:function(t){return[a("va-radio-button",{attrs:{option:t.rowData.id,label:" "},model:{value:e.livroSelectedOption,callback:function(t){e.livroSelectedOption=t},expression:"livroSelectedOption"}})]}}])})],1),a("hr"),a("div",{staticClass:"flex xs12"},[a("h3",{staticClass:"info"},[e._v("Selecionar Cliente")]),a("va-data-table",{attrs:{fields:e.clientes.fields,data:e.clientesContent,"per-page":5,totalPages:e.clientes.totalPages,loading:e.clientes.loading,"api-mode":""},on:{"page-selected":e.buscaClientes},scopedSlots:e._u([{key:"select",fn:function(t){return[a("va-radio-button",{attrs:{option:t.rowData.matricula,label:" "},model:{value:e.clienteSelectedOption,callback:function(t){e.clienteSelectedOption=t},expression:"clienteSelectedOption"}})]}}])})],1),a("div",{staticClass:"flex xs12"},[a("h3",[e._v("Data de empréstimo")]),a("br"),a("va-date-picker",{attrs:{label:"Data empréstimo"},model:{value:e.dataEmprestimo,callback:function(t){e.dataEmprestimo=t},expression:"dataEmprestimo"}})],1),a("div",{staticClass:"flex md12 sm12 xs12"},[a("va-button",{staticClass:"pull-right",attrs:{disabled:e.isDisabled,color:"info"},on:{click:e.criar}},[e._v(" Criar ")])],1)])])])],2)])])},i=[],r=a("392f"),o=a("bffd"),s=a("db20"),l={name:"form-elements",data:function(){return{livros:{totalPages:0,loading:!1,perPage:5,fields:[{name:"__slot:select",dataClass:"text-right"},{name:"id",title:"#"},{name:"nome",title:"Nome"},{name:"editora",title:"Editora"},{name:"autor",title:"Autor"},{name:"anoPublicacao",title:"Ano de Publicação"},{name:"isbn",title:"ISBN"}]},clientes:{totalPages:0,loading:!1,perPage:5,fields:[{name:"__slot:select",dataClass:"text-right"},{name:"matricula",title:"#"},{name:"nome",title:"Nome"},{name:"telefone",title:"Telefone"},{name:"email",title:"E-mail"}]},livroSelectedOption:0,clienteSelectedOption:0,livrosContent:[],clientesContent:[],isDisabled:!1,validationErrors:[],dataEmprestimo:""}},created:function(){this.buscaLivros(),this.buscaClientes(),this.getToday()},methods:{buscaLivros:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.livros.loading=!0;var a={size:this.livros.perPage,page:t-1};r["a"].buscarLivros(a).then((function(t){e.livrosContent=t.data.content,e.livros.totalPages=t.data.totalPages,e.livros.loading=!1}))},buscaClientes:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.clientes.loading=!0;var a={size:this.clientes.perPage,page:t-1};o["a"].buscarClientes(a).then((function(t){e.clientesContent=t.data.content,e.clientes.totalPages=t.data.totalPages,e.clientes.loading=!1}))},criar:function(){var e=this;this.isDisabled=!0;var t={idLivro:this.livroSelectedOption,idCliente:this.clienteSelectedOption,dataEmprestimo:this.dataEmprestimo};s["a"].criarEmprestimo(t).then((function(t){return e.$router.push({name:"emprestimos"})})).catch((function(t){e.validationErrors=t.response.data.errors,e.isDisabled=!1}))},getToday:function(){var e=new Date,t=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate();this.dataEmprestimo=t}}},c=l,u=(a("afc6"),a("2877")),d=Object(u["a"])(c,n,i,!1,null,null,null);t["default"]=d.exports},db20:function(e,t,a){"use strict";var n=a("bc3a"),i=a.n(n),r=a("c4c6");function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function l(e,t,a){return t&&s(e.prototype,t),a&&s(e,a),e}var c="https://protected-fjord-42747.herokuapp.com/emprestimo/",u=function(){function e(){o(this,e)}return l(e,[{key:"buscarEmprestimos",value:function(e){var t={headers:Object(r["a"])(),params:e},a=i.a.get(c,t);return a}},{key:"deleteEmprestimo",value:function(e){return i.a.delete(c+e,{headers:Object(r["a"])()})}},{key:"criarEmprestimo",value:function(e){return i.a.post(c,e,{headers:Object(r["a"])()})}}]),e}();t["a"]=new u}}]);
//# sourceMappingURL=chunk-793f3fd1.43ffc44e.js.map